{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/newui/foodvai/front/src/app/components/modals/modal.tsx"],"sourcesContent":["import React, { ReactNode } from 'react';\n\ntype ModalProps = {\n  isOpen: boolean;\n  onClose: () => void;\n  children: ReactNode;\n};\n\nexport default function Modal({ isOpen, onClose, children }: ModalProps) {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"modal-backdrop\" onClick={onClose}>\n      <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n        <button className=\"close-btn\" onClick={onClose}>×</button>\n        {children}\n      </div>\n\n      <style jsx>{`\n        .modal-backdrop {\n          position: fixed;\n          top: 0; left: 0; right: 0; bottom: 0;\n          background: rgba(0, 0, 0, 0.5);\n          display: flex; align-items: center; justify-content: center;\n          z-index: 1000;\n        }\n        .modal-content {\n          background: white;\n          padding: 20px;\n          border-radius: 8px;\n          position: relative;\n          max-width: 500px;\n          width: 90%;\n        }\n        .close-btn {\n          position: absolute;\n          top: 10px; right: 10px;\n          background: none; border: none;\n          font-size: 1.5rem; cursor: pointer;\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAQe,SAAS,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAc;IACrE,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,6LAAC;QAA+B,SAAS;kDAA1B;;0BACb,6LAAC;gBAA8B,SAAS,CAAC,IAAM,EAAE,eAAe;0DAAjD;;kCACb,6LAAC;wBAA6B,SAAS;kEAArB;kCAA8B;;;;;;oBAC/C;;;;;;;;;;;;;;;;;AA4BT;KAnCwB","debugId":null}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///D:/newui/foodvai/front/src/app/components/modals/addItemmodal.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react';\nimport Modal from './modal';\nimport { useForm } from \"react-hook-form\";\nimport { AlimentosItf } from '@/app/utils/types/AlimentosItf';\nimport { useRouter } from 'next/navigation';\nimport { toast } from \"sonner\";\nimport Cookies from \"js-cookie\";\nimport { jwtDecode } from \"jwt-decode\";\n\ntype inputs = {\n  nome: string;\n  peso: number;\n  perecivel: string;\n  unidadeTipo: string;\n};\n\ntype userPayload = {\n  clienteLogadoId: string;\n  clienteLogadoNome: string;\n};\n\nexport default function ItemModal({ dispensaId }: { dispensaId: number }) {\n  const [isOpen, setIsOpen] = useState(false);\n  const { register, handleSubmit } = useForm<AlimentosItf>();\n  const [user, setUser] = useState<userPayload | null>(null);\n\n  useEffect(() => {\n    const token = Cookies.get(\"token\");\n    if (!token) return;\n\n    try {\n      const decoded = jwtDecode<userPayload>(token);\n      setUser(decoded);\n      console.log(\"Usuário logado:\", decoded);\n    } catch (error) {\n      alert(\"Token inválido. Faça login novamente.\");\n      console.error(\"Erro ao decodificar o token:\", error);\n    }\n  }, []);\n\n  const router = useRouter();\n\n  async function tryinput(data: inputs) {\n    try {\n      const response = await fetch(`${process.env.NEXT_PUBLIC_URL_API}/alimentos/dispensa/${dispensaId}/alimentos`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + Cookies.get(\"token\") || \"\"\n        },\n        body: JSON.stringify({\n          nome: data.nome,\n          peso: Number(data.peso),\n          perecivel: data.perecivel,\n          unidadeTipo: data.unidadeTipo,\n          dispensaId: dispensaId,\n        }),\n      });\n\n      if (!response.ok) {\n        const contentType = response.headers.get(\"content-type\");\n        if (contentType?.includes(\"application/json\")) {\n          const errorData = await response.json();\n          console.error(\"Erro ao enviar:\", errorData);\n          toast.error(errorData?.erro || \"Erro ao enviar o item.\");\n        } else {\n          const errorText = await response.text();\n          console.error(\"Erro ao enviar (texto):\", errorText);\n          toast.error(\"Erro inesperado ao enviar.\");\n        }\n        return;\n      }\n\n      console.log(\"Item enviado com sucesso!\");\n      setIsOpen(false);\n      toast.success(\"Item enviado com sucesso!\");\n      router.refresh(); // melhor que window.reload\n    } catch (error) {\n      console.error(\"Erro de rede ou outra falha:\", error);\n      toast.error(\"Erro de rede ao tentar enviar.\");\n    }\n  }\n\n  return (\n    <>\n      <button\n        className=\"px-4 py-2 bg-[#2c2c2c] text-[#ffffff] rounded-md hover:bg-[#1e1e1e] font-medium\"\n        onClick={() => setIsOpen(true)}\n      >\n        Adicione um item\n      </button>\n      <Modal isOpen={isOpen} onClose={() => setIsOpen(false)}>\n        <form onSubmit={handleSubmit(tryinput)}>\n          <label className=\"block text-sm font-medium text-gray-700\">Nome do alimento</label>\n          <input className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm\" type=\"text\" required {...register(\"nome\")} />\n\n          <label className=\"block text-sm font-medium text-gray-700 mt-4\">Qtd\\Kg</label>\n          <input className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm\" type=\"number\" required {...register(\"peso\", { valueAsNumber: true })} />\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"unidadeTipo\" className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-700\">TipoUni</label>\n            <select id=\"unidadeTipo\" className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm\" required {...register(\"unidadeTipo\")}>\n              <option value=\"KG\">KG</option>\n              <option value=\"PCT\">PCT</option>\n              <option value=\"REDE\">REDE</option>\n              <option value=\"DUZIA\">DUZIA</option>\n              <option value=\"LT\">LT</option>\n              <option value=\"Unid\">Unid</option>\n            </select>\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"perecivel\" className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-700\">Perecível</label>\n            <select id=\"perecivel\" className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm\" required {...register(\"perecivel\")}>\n              <option value=\"NÃO\">NÃO</option>\n              <option value=\"SIM\">SIM</option>\n            </select>\n          </div>\n\n          <button type=\"submit\" className=\"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\">\n            Enviar item\n          </button>\n        </form>\n      </Modal>\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 363, "column": 0}, "map": {"version":3,"sources":["file:///D:/newui/foodvai/front/src/app/components/modals/editItemmodal.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react';\nimport Modal from './modal';\nimport { useForm } from \"react-hook-form\";\nimport { AlimentosItf } from '@/app/utils/types/AlimentosItf';\nimport { useRouter } from 'next/navigation';\nimport { toast } from \"sonner\";\nimport Cookies from 'js-cookie';\ntype inputs = {\n  nome?: string;\n  peso?: number;\n};\n\nexport default function EditItemModal({ id, dispensaId }: { id: number, dispensaId: number }) {\n  const [isOpen, setIsOpen] = useState(false);\n  const { register, handleSubmit } = useForm<AlimentosItf>();\n  const router = useRouter();\n\n  async function tryinput(data: inputs) {\n    console.log(\"Dados recebidos:\", data);\n    try {\n      const response = await fetch(`${process.env.NEXT_PUBLIC_URL_API}/alimentos/dispensa/${dispensaId}/alimentos/${id}`, {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" ,\n           Authorization: \"Bearer \" + Cookies.get(\"token\") || \"\"\n        },\n        body: JSON.stringify({\n          nome: data.nome,\n          peso: Number(data.peso),\n          \n        }),\n      });\n\n      if (!response.ok) {\n        const contentType = response.headers.get(\"content-type\");\n        if (contentType && contentType.includes(\"application/json\")) {\n          const errorData = await response.json();\n          console.error(\"Erro ao enviar:\", errorData);\n        } else {\n          const errorText = await response.text();\n          console.error(\"Erro ao enviar (texto):\", errorText);\n        }\n      } else {\n        console.log(\"Item enviado com sucesso!\");\n        setIsOpen(false);\n        window.location.reload();\n        toast.success(\"Item enviado com sucesso!\");\n      }\n    } catch (error) {\n      console.error(\"Erro de rede ou outra falha:\", error);\n    }\n  }\n\n  return (\n    <>\n      <button\n        className=\"px-4 py-2 bg-[#2c2c2c] text-[#ffffff] rounded-md hover:bg-[#1e1e1e] font-medium\"\n        onClick={() => setIsOpen(true)}\n      >\n        Editar\n      </button>\n      <Modal isOpen={isOpen} onClose={() => setIsOpen(false)}>\n        <form onSubmit={handleSubmit(tryinput)}>\n          <label className=\"block text-sm font-medium text-gray-700\">\n            Nome do alimento\n          </label>\n          <input\n            className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm\"\n            type=\"text\"\n            required\n            {...register(\"nome\")}\n          />\n          <label className=\"block text-sm font-medium text-gray-700 mt-4\">\n            Qtd\\Kg\n          </label>\n          <input\n            className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm\"\n            type=\"number\"\n            required\n            {...register(\"peso\", { valueAsNumber: true })}\n          />\n          <button\n            type=\"submit\"\n            className=\"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\n          >\n            Salvar\n          </button>\n        </form>\n      </Modal>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;AAsBsC;;AApBtC;AACA;AACA;AAEA;AACA;AACA;;;AARA;;;;;;;AAce,SAAS,cAAc,EAAE,EAAE,EAAE,UAAU,EAAsC;;IAC1F,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,GAAG,CAAA,GAAA,iKAAA,CAAA,UAAO,AAAD;IACzC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,eAAe,SAAS,IAAY;QAClC,QAAQ,GAAG,CAAC,oBAAoB;QAChC,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,6DAAmC,oBAAoB,EAAE,WAAW,WAAW,EAAE,IAAI,EAAE;gBAClH,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;oBACxB,eAAe,YAAY,wJAAA,CAAA,UAAO,CAAC,GAAG,CAAC,YAAY;gBACtD;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB,MAAM,KAAK,IAAI;oBACf,MAAM,OAAO,KAAK,IAAI;gBAExB;YACF;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,cAAc,SAAS,OAAO,CAAC,GAAG,CAAC;gBACzC,IAAI,eAAe,YAAY,QAAQ,CAAC,qBAAqB;oBAC3D,MAAM,YAAY,MAAM,SAAS,IAAI;oBACrC,QAAQ,KAAK,CAAC,mBAAmB;gBACnC,OAAO;oBACL,MAAM,YAAY,MAAM,SAAS,IAAI;oBACrC,QAAQ,KAAK,CAAC,2BAA2B;gBAC3C;YACF,OAAO;gBACL,QAAQ,GAAG,CAAC;gBACZ,UAAU;gBACV,OAAO,QAAQ,CAAC,MAAM;gBACtB,2IAAA,CAAA,QAAK,CAAC,OAAO,CAAC;YAChB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gCAAgC;QAChD;IACF;IAEA,qBACE;;0BACE,6LAAC;gBACC,WAAU;gBACV,SAAS,IAAM,UAAU;0BAC1B;;;;;;0BAGD,6LAAC,+IAAA,CAAA,UAAK;gBAAC,QAAQ;gBAAQ,SAAS,IAAM,UAAU;0BAC9C,cAAA,6LAAC;oBAAK,UAAU,aAAa;;sCAC3B,6LAAC;4BAAM,WAAU;sCAA0C;;;;;;sCAG3D,6LAAC;4BACC,WAAU;4BACV,MAAK;4BACL,QAAQ;4BACP,GAAG,SAAS,OAAO;;;;;;sCAEtB,6LAAC;4BAAM,WAAU;sCAA+C;;;;;;sCAGhE,6LAAC;4BACC,WAAU;4BACV,MAAK;4BACL,QAAQ;4BACP,GAAG,SAAS,QAAQ;gCAAE,eAAe;4BAAK,EAAE;;;;;;sCAE/C,6LAAC;4BACC,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;;;;;;;;;AAOX;GA9EwB;;QAEa,iKAAA,CAAA,UAAO;QAC3B,qIAAA,CAAA,YAAS;;;KAHF","debugId":null}},
    {"offset": {"line": 517, "column": 0}, "map": {"version":3,"sources":["file:///D:/newui/foodvai/front/src/app/components/modals/userModal.tsx"],"sourcesContent":["'use client';\n\nimport { LucideUserPlus2 } from 'lucide-react';\nimport { useEffect, useState } from 'react';\nimport Modal from './modal';\nimport { ClienteItf } from '@/app/utils/types/ClienteItf';\nimport { toast } from 'sonner';\nimport Cookies from 'js-cookie';\n\ninterface UserModalProps {\n  dispensaId: number;\n  onUserAdded?: (user: ClienteItf) => void;\n}\n\nexport default function UserModal({ dispensaId, onUserAdded }: UserModalProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [clientes, setClientes] = useState<ClienteItf[]>([]);\n  const [membros, setMembros] = useState<ClienteItf[]>([]);\n  const [clientesFiltrados, setClientesFiltrados] = useState<ClienteItf[]>([]);\n  const [usuarioLogadoId, setUsuarioLogadoId] = useState<string | null>(null);\n\n  const getInitial = (name: string | undefined): string => {\n    return name?.charAt(0).toUpperCase() || 'U';\n  };\n\n  useEffect(() => {\n    const id = Cookies.get(\"usuarioID\");\n    setUsuarioLogadoId(id ?? null);\n  }, []);\n\n  useEffect(() => {\n    if (!isOpen || !usuarioLogadoId) return;\n\n    async function carregarDados() {\n      try {\n        const [clientesRes, dispensaRes] = await Promise.all([\n          fetch(`${process.env.NEXT_PUBLIC_URL_API}/clientes`),\n          fetch(`${process.env.NEXT_PUBLIC_URL_API}/dispensa/${dispensaId}`),\n        ]);\n\n        const todosClientes: ClienteItf[] = await clientesRes.json();\n        const dadosDispensa = await dispensaRes.json();\n        const membrosDaDispensa: ClienteItf[] = dadosDispensa?.membros || [];\n\n        setClientes(todosClientes);\n        setMembros(membrosDaDispensa);\n\n        const idsExcluidos = new Set([\n          ...membrosDaDispensa.map(m => m.id),\n          usuarioLogadoId,\n        ]);\n\n        const disponiveis = todosClientes.filter(c => !idsExcluidos.has(c.id));\n        setClientesFiltrados(disponiveis);\n      } catch (err) {\n        console.error('Erro ao buscar clientes ou membros:', err);\n        toast.error('Erro ao carregar usuários.');\n      }\n    }\n\n    carregarDados();\n  }, [isOpen, dispensaId, usuarioLogadoId]);\n\n  const handleSelecionarUsuario = async (user: ClienteItf) => {\n    try {\n      const res = await fetch(`${process.env.NEXT_PUBLIC_URL_API}/dispensa/${dispensaId}/membro`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + (Cookies.get('token') || ''),\n        },\n        body: JSON.stringify({ usuarioID: user.id }),\n      });\n\n      if (!res.ok) {\n        const error = await res.json();\n        toast.error(`Erro ao adicionar usuário: ${error?.error || 'Erro desconhecido'}`);\n        return;\n      }\n\n      const usuarioAdicionado = await res.json();\n      if (onUserAdded) onUserAdded(usuarioAdicionado);\n\n      toast.success(`Usuário \"${user.nome}\" adicionado à dispensa!`);\n      setIsOpen(false);\n    } catch (err) {\n      console.error('Erro na requisição de membro:', err);\n      toast.error('Erro de rede ao adicionar usuário.');\n    }\n  };\n\n  return (\n    <>\n      <button\n        className=\"px-4 py-2 bg-[#2c2c2c] text-[#ffffff] rounded-md hover:bg-[#1e1e1e] font-medium flex justify-between\"\n        onClick={() => setIsOpen(true)}\n      >\n        Adicione um usuário\n        <LucideUserPlus2 size={16} />\n      </button>\n\n      <Modal isOpen={isOpen} onClose={() => setIsOpen(false)}>\n        <section className=\"container mx-auto px-6 py-12 md:py-16\">\n          <div className=\"flex flex-col sm:flex-row items-center justify-between gap-4 mb-8\">\n            <h2 className=\"text-3xl font-bold text-gray-900\">Selecionar Usuário</h2>\n          </div>\n\n          {clientesFiltrados.length === 0 ? (\n            <p className=\"text-gray-500\">Todos os usuários já estão na dispensa.</p>\n          ) : (\n            <div className=\"grid sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {clientesFiltrados.map((cliente) => (\n                <button\n                  key={cliente.id}\n                  onClick={() => handleSelecionarUsuario(cliente)}\n                  className=\"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all duration-300 flex flex-col items-center text-center\"\n                >\n                  <div className=\"w-32 h-32 bg-green-600 rounded-full flex items-center justify-center shadow-lg shadow-green-500/30 mb-4\">\n                    <span className=\"text-5xl font-bold text-white select-none\">\n                      {getInitial(cliente?.nome)}\n                    </span>\n                  </div>\n                  <h3 className=\"text-lg font-bold text-gray-900 mb-1\">\n                    {cliente?.nome || 'Nome do Usuário'}\n                  </h3>\n                </button>\n              ))}\n            </div>\n          )}\n        </section>\n      </Modal>\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 728, "column": 0}, "map": {"version":3,"sources":["file:///D:/newui/foodvai/front/src/app/dispensa/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\nimport { User, Search, Settings } from \"lucide-react\";\nimport ItemModal from \"../../components/modals/addItemmodal\";\nimport EditItemModal from \"@/app/components/modals/editItemmodal\";\nimport { useEffect, useState } from \"react\";\nimport { AlimentosItf } from \"../../utils/types/AlimentosItf\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport UserModal from \"@/app/components/modals/userModal\";\nimport { DispensaItf } from \"@/app/utils/types/DispensaItf\";\nimport { PieChart, Pie, Cell, Tooltip, Legend, ResponsiveContainer } from \"recharts\";\nimport { ClienteItf } from \"@/app/utils/types/ClienteItf\";\nimport Cookies from \"js-cookie\";\nexport default function InstanciaPage() {\n    const [alimentos, setPropostas] = useState<AlimentosItf[]>([]);\n    const [alimentoSelecionado, setAlimentoSelecionado] = useState<AlimentosItf | null>(null);\n    const [dispensa, setDispensa] = useState<DispensaItf | null>(null);\n    const [showForm, setShowForm] = useState(false);\n    const [showConfigForm, setShowConfigForm] = useState(false);\n    const [showGrafico, setShowGrafico] = useState(false);\n    const [funcionario, setFuncionario] = useState<ClienteItf[]>([]);\n    const params = useParams();\n    const dispensaId = params?.id;\n    const router = useRouter();\n    const [logado, setLogado] = useState<boolean>(false)\n    const [mostrarUso, setMostrarUso] = useState(false);\n    const [mostrarHistorico, setMostrarHistorico] = useState(false);\n    const [historico, setHistorico] = useState<any[]>([]);\n\n\nasync function buscarHistoricoUso() {\n  try {\n    const response = await fetch(`${process.env.NEXT_PUBLIC_URL_API}/alimentos/relatorio/${dispensaId}`, {\n      headers: {\n        Authorization: \"Bearer \" + Cookies.get(\"token\"),\n      },\n    });\n\n    const dados = await response.json();\n    setHistorico(dados);\n    setMostrarHistorico(true);\n  } catch (error) {\n    console.error(\"Erro ao buscar histórico:\", error);\n    alert(\"Erro ao buscar histórico de uso.\");\n  }\n}\n\n\n  useEffect(() => {\n    if (Cookies.get(\"token\")) {\n      setLogado(true)\n    } else {\n      router.replace(\"/\")\n    }\n  }, [])\n    useEffect(() => {\n        async function buscaDados() {\n            try {\n                const response = await fetch(`${process.env.NEXT_PUBLIC_URL_API}/alimentos/dispensa/${dispensaId}/alimentos`);\n                const dados = await response.json();\n                setPropostas(dados);\n            } catch (error) {\n                console.error(\"Falha ao buscar alimentos:\", error);\n            }\n        }\n\n       async function buscaDispensa() {\n        try {\n            const response = await fetch(`${process.env.NEXT_PUBLIC_URL_API}/dispensa/${dispensaId}`);\n            const dados = await response.json();\n            setDispensa(dados);\n            setFuncionario(dados.membros || []); // membros já vem como [{ id, nome, email }]\n        } catch (error) {\n            console.error(\"Falha ao buscar dados da dispensa:\", error);\n        }\n        }\n\n\n        if (dispensaId) {\n            buscaDados();\n            buscaDispensa();\n        }\n    }, [dispensaId]);\n\n    function handleCloseDetails() {\n        setAlimentoSelecionado(null);\n    }\n\n    async function handleDeleteItem(id: number) {\n        try {\n            await fetch(`${process.env.NEXT_PUBLIC_URL_API}/alimentos/${id}`, {\n                method: 'DELETE',\n            });\n            setPropostas((prev) => prev.filter(item => item.id !== id));\n            handleCloseDetails();\n        } catch (error) {\n            console.error(\"Erro ao deletar alimento:\", error);\n        }\n    }\n\n    async function handleDeletePage(id: number) {\n        try {\n            await fetch(`${process.env.NEXT_PUBLIC_URL_API}/dispensa/${id}`, {\n                method: 'DELETE',\n                headers: {\n                \"Content-Type\": \"application/json\",\n                 Authorization: \"Bearer \" + Cookies.get(\"token\") || \"\"\n        },\n            });\n            setDispensa(null);\n            setShowConfigForm(false);\n            router.push(\"/perfil\");\n        } catch (error) {\n            console.error(\"Erro ao deletar dispensa:\", error);\n        }\n    }\n\n\n    const COLORS = [\"#8884d8\", \"#82ca9d\", \"#ffc658\", \"#ff7f50\", \"#a28fd0\", \"#ffb6b9\", \"#c6e2ff\"];\n\n    return (\n        <div className=\"min-h-screen bg-slate-100\">\n            <main className=\"max-w-7xl mx-auto px-4 py-8\">\n                <div className=\"bg-white p-6 rounded-2xl shadow-lg border border-slate-200/80 mb-6\">\n                    <div className=\"flex flex-col gap-6\">\n                        <h1 className=\"text-3xl font-bold text-slate-800\">Controle de Dispensa</h1>\n\n                        <div className=\"flex flex-col md:flex-row gap-4 items-center justify-between\">\n                            <div className=\"relative w-full md:w-1/3\">\n                                <Search className=\"absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400\" size={18} />\n                                <input\n                                    type=\"text\"\n                                    placeholder=\"Buscar item...\"\n                                    className=\"w-full pl-10 pr-4 py-2.5 border border-slate-200 bg-slate-50 text-slate-800 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n                                />\n                            </div>\n\n                            <div className=\"grid grid-cols-2 sm:flex sm:items-center gap-3 w-full sm:w-auto\">\n                                <ItemModal dispensaId={Number(dispensaId)} />\n                                \n                                <button\n                                    onClick={() => setShowConfigForm(true)}\n                                    className=\"bg-slate-200 text-slate-700 hover:bg-slate-300 flex items-center justify-center gap-2 w-full sm:w-auto px-4 py-2.5 rounded-xl font-medium transition-colors\"\n                                >\n                                    <Settings size={16} /> Config.\n                                </button>\n\n                                <button\n                                    onClick={() => setShowGrafico(true)}\n                                    className=\"bg-indigo-200 text-indigo-700 hover:bg-indigo-300 flex items-center justify-center gap-2 w-full sm:w-auto px-4 py-2.5 rounded-xl font-medium transition-colors\"\n                                >\n                                    📊 Gráfico\n                                </button>\n\n                                <button\n                                    onClick={buscarHistoricoUso}\n                                    className=\"bg-green-500 text-white hover:bg-black flex items-center justify-center gap-2 w-full sm:w-auto px-4 py-2.5 rounded-xl font-medium transition-colors\"\n                                    >\n                                    Histórico de Uso\n                                    </button>\n\n\n                               <UserModal\n                                dispensaId={Number(dispensaId)}\n                                onUserAdded={(user) => {\n                                    setFuncionario((prev) => {\n                                    if (prev.some(f => f.id === user.id)) return prev;\n                                    return [...prev, user];\n                                    });\n                                }}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                    <div className=\"lg:col-span-1 bg-white p-6 rounded-2xl shadow-lg border border-slate-200/80\">\n                        <h2 className=\"text-xl font-bold text-slate-800 mb-4\">Funcionários</h2>\n                        <div className=\"space-y-3\">\n                            {funcionario.length > 0 ? (\n                                funcionario.map((cook, index) => (\n                                    <div key={index} className=\"flex items-center space-x-3 p-3 rounded-xl border border-slate-200 hover:bg-slate-100 transition-colors\">\n                                        <div className=\"p-2 bg-slate-200 rounded-full\">\n                                            <User className=\"w-5 h-5 text-slate-500\" />\n                                        </div>\n                                        <span className=\"font-medium text-slate-700\">{cook.nome}</span>\n                                    </div>\n                                ))\n                            ) : (\n                                <p className=\"text-sm text-slate-500 text-center py-4\">Nenhum funcionário cadastrado.</p>\n                            )}\n                        </div>\n                    </div>\n\n                    <div className=\"lg:col-span-2 bg-white p-6 rounded-2xl shadow-lg border border-slate-200/80\">\n                        <h2 className=\"text-xl font-bold text-slate-800 mb-4\">Seu estoque</h2>\n                        <div className=\"overflow-x-auto\">\n                            <table className=\"w-full text-left\">\n                                <thead>\n                                    <tr className=\"border-b border-slate-200\">\n                                        <th className=\"p-3 text-sm font-semibold text-slate-500\">ID</th>\n                                        <th className=\"p-3 text-sm font-semibold text-slate-500 text-center\">Nome</th>\n                                        <th className=\"p-3 text-sm font-semibold text-slate-500 text-right\"></th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {alimentos.length > 0 ? (\n                                        alimentos.map((alimento) => (\n                                            <tr\n                                                key={alimento.id}\n                                                onClick={() => setAlimentoSelecionado(alimento)}\n                                                className=\"hover:bg-slate-50 transition-colors cursor-pointer\"\n                                            >\n                                                <td className=\"p-3 font-medium text-slate-700\">{alimento.id}</td>\n                                                <td className=\"p-3 text-slate-600 text-center\">{alimento.nome || '-'}</td>\n                                                <td className=\"p-3 font-medium text-slate-700 text-right\"><strong>{alimento.unidadeTipo}</strong> {alimento.peso}</td>\n                                            </tr>\n                                        ))\n                                    ) : (\n                                        <tr>\n                                            <td colSpan={3} className=\"text-center py-8 text-slate-500\">Nenhum item no estoque.</td>\n                                        </tr>\n                                    )}\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n\n                {alimentoSelecionado && (\n                    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n                        <div className=\"bg-white p-6 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-xl border border-slate-200/80\">\n                            <button \n                                onClick={handleCloseDetails}\n                                className=\"float-right font-bold text-slate-500 hover:text-slate-700\"\n                            >\n                                ✕\n                            </button>\n                            <h2 className=\"text-2xl font-bold text-slate-800 mb-4\">{alimentoSelecionado.nome}</h2>\n                            <p className=\"mb-2 text-slate-700\"><strong>ID:</strong> {alimentoSelecionado.id}</p>\n                            <p className=\"mb-2 text-slate-700\"><strong>Peso:</strong> {alimentoSelecionado.peso} {alimentoSelecionado.unidadeTipo}</p>\n                            <p className=\"mb-2 text-slate-700\"><strong>tipoUnidade:</strong> {alimentoSelecionado.unidadeTipo} </p>\n                            {alimentoSelecionado.perecivel && (\n                                <p className=\"mb-4 text-slate-700\"><strong>Perecível:</strong> {alimentoSelecionado.perecivel}</p>\n                            )}\n\n                            <div className=\"flex gap-3 mt-4\">\n                                <EditItemModal id={Number(alimentoSelecionado?.id)} dispensaId={Number(dispensaId)} />\n                                <button\n                                    onClick={() => {\n                                        if (alimentoSelecionado) handleDeleteItem(alimentoSelecionado.id);\n                                    }}\n                                    className=\"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-xl transition-colors\"\n                                >\n                                    Deletar\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {showConfigForm && (\n                    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n                        <div className=\"bg-white p-6 rounded-2xl max-w-md w-full shadow-xl border border-slate-200/80\">\n                            <button\n                                onClick={() => setShowConfigForm(false)}\n                                className=\"float-right font-bold text-slate-500 hover:text-slate-700\"\n                            >\n                                ✕\n                            </button>\n\n                            <h2 className=\"text-xl font-bold text-slate-800 mb-4\">Configurações da Dispensa</h2>\n\n                            {dispensa ? (\n                                <p className=\"text-slate-700 mb-4\"><strong>Nome:</strong> {dispensa.nome}</p>\n                            ) : (\n                                <p className=\"text-slate-500 mb-4\">Carregando nome da dispensa...</p>\n                            )}\n\n                            <button\n                                onClick={() => {\n                                    if (dispensaId) handleDeletePage(Number(dispensaId));\n                                }}\n                                className=\"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-xl transition-colors\"\n                            >\n                                Deletar Dispensa\n                            </button>\n                        </div>\n                    </div>\n                )}\n\n               {showGrafico && (\n  <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n    <div className=\"bg-white p-6 rounded-2xl max-w-lg w-full shadow-xl border border-slate-200/80\">\n      <button\n        onClick={() => setShowGrafico(false)}\n        className=\"float-right font-bold text-slate-500 hover:text-slate-700\"\n      >\n        ✕\n      </button>\n\n      <h2 className=\"text-xl font-bold text-slate-800 mb-4\">Distribuição do Estoque</h2>\n\n      <PieChart width={350} height={300}>\n        <Pie\n          data={alimentos.map(item => ({ name: item.nome, value: Number(item.peso) }))}\n\n          dataKey=\"value\"\n          nameKey=\"name\"\n          cx={175}\n          cy={150}\n          outerRadius={100}\n          fill=\"#8884d8\"\n          label\n        >\n          {alimentos.map((_, index) => (\n            <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n          ))}\n        </Pie>\n        <Tooltip />\n        <Legend />\n      </PieChart>\n    </div>\n  </div>\n    )}\n\n{/* Botão de abrir/fechar */}\n<div className=\"flex justify-end mt-6\">\n  <button\n    onClick={() => setMostrarUso((prev) => !prev)}\n    className=\"bg-green-500 hover:bg-black text-white font-semibold py-2 px-6 rounded-xl transition-colors\"\n  >\n    {mostrarUso ? \"Fechar uso de alimentos\" : \"Registrar uso de alimentos\"}\n  </button>\n</div>\n\n{/* Formulário com toggle de visibilidade */}\n{mostrarUso && (\n  <section className=\"mt-6 bg-white p-6 rounded-2xl shadow-lg border border-slate-200/80\">\n    <h2 className=\"text-xl font-bold text-slate-800 mb-4\">Registrar uso de alimentos</h2>\n    <form\n      onSubmit={async (e) => {\n        e.preventDefault();\n        const formData = new FormData(e.currentTarget);\n\n        const entradas = alimentos\n          .map(alimento => {\n            const valor = formData.get(`alimento-${alimento.id}`);\n            const numero = Number(valor);\n            return valor && !isNaN(numero) && numero > 0\n              ? { id: alimento.id, quantidade: numero }\n              : null;\n          })\n          .filter(Boolean);\n\n        if (entradas.length === 0) return alert(\"Nenhuma quantidade válida informada.\");\n\n        try {\n          const response = await fetch(`${process.env.NEXT_PUBLIC_URL_API}/alimentos/relatorio`, {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + Cookies.get(\"token\"),\n            },\n            body: JSON.stringify({\n              alimentos: entradas,\n              dispensaId: Number(dispensaId),\n            }),\n          });\n\n          if (response.ok) {\n            alert(\"Uso registrado com sucesso.\");\n            location.reload();\n          } else {\n            const erro = await response.json();\n            console.error(erro);\n            alert(\"Erro ao registrar uso: \" + (erro?.error || \"Erro desconhecido\"));\n          }\n        } catch (error) {\n          console.error(error);\n          alert(\"Erro inesperado.\");\n        }\n      }}\n    >\n      <div className=\"space-y-4\">\n        {alimentos.map(alimento => (\n          <div key={alimento.id} className=\"flex items-center gap-4\">\n            <label className=\"w-48 font-medium text-slate-700\">{alimento.nome}</label>\n            <input\n              type=\"number\"\n              step=\"0.01\"\n              name={`alimento-${alimento.id}`}\n              placeholder={`em ${alimento.unidadeTipo.toLowerCase()}`}\n              className=\"flex-1 border border-slate-300 rounded-xl px-4 py-2 text-slate-700\"\n            />\n            <span className=\"text-sm text-slate-500\">Disponível: {alimento.peso}</span>\n          </div>\n        ))}\n      </div>\n      <button\n        type=\"submit\"\n        className=\"mt-6 bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-6 rounded-xl transition-colors\"\n      >\n        Enviar\n      </button>\n    </form>\n  </section>\n)}\n\n{mostrarHistorico && (\n  <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n    <div className=\"bg-white p-6 rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto shadow-xl border border-slate-200/80\">\n      <button\n        onClick={() => setMostrarHistorico(false)}\n        className=\"float-right font-bold text-slate-500 hover:text-slate-700\"\n      >\n        ✕\n      </button>\n\n      <h2 className=\"text-xl font-bold text-slate-800 mb-4\">Histórico de Uso</h2>\n\n      {historico.length === 0 ? (\n        <p className=\"text-slate-600\">Nenhum registro encontrado.</p>\n      ) : (\n        <table className=\"w-full text-left text-sm\">\n          <thead>\n            <tr className=\"border-b border-slate-300\">\n              <th className=\"p-2\">Data</th>\n              <th className=\"p-2\">Usuário</th>\n              <th className=\"p-2\">Alimento</th>\n              <th className=\"p-2\">Quantidade</th>\n              <th className=\"p-2\">Unidade</th>\n            </tr>\n          </thead>\n          <tbody>\n            {historico.map((item, index) => (\n              <tr key={index} className=\"border-b border-slate-100 hover:bg-slate-50\">\n                <td className=\"p-2\">{new Date(item.data).toLocaleString()}</td>\n                <td className=\"p-2\">{item.usuario}</td>\n                <td className=\"p-2\">{item.alimento}</td>\n                <td className=\"p-2\">{item.quantidade}</td>\n                <td className=\"p-2\">{item.unidade}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n    </div>\n  </div>\n)}\n\n\n\n\n\n    </main>\n            </div>\n        );\n    }\n"],"names":[],"mappings":"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","debugId":null}}]
}